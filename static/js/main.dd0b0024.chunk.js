(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={form:"ContactForm_form__3btSC",label:"ContactForm_label__3Lu3t",input:"ContactForm_input__ui46E"}},16:function(t,e,n){t.exports={contactList:"ContactsList_contactList__vw0dP",item:"ContactsList_item__2giVe",button:"ContactsList_button__oeo8m"}},17:function(t,e,n){t.exports={backdrop:"Modal_backdrop__l2iOj",content:"Modal_content__s9CEy",btnClose:"Modal_btnClose__3eiSw"}},21:function(t,e,n){t.exports={filter:"Filter_filter__2TSo_",input:"Filter_input__DCqMj"}},22:function(t,e,n){t.exports={section:"Section_section__2gkaV",title:"Section_title__ukAji"}},34:function(t,e,n){t.exports={container:"Container_container__3oEEn"}},35:function(t,e,n){t.exports={button:"Button_button__2fFoS",delete:"Button_delete__2vAeO Button_button__2fFoS",create:"Button_create__1rh7U Button_button__2fFoS"}},36:function(t,e,n){t.exports={title:"Title_title__2XVR3",first:"Title_first__2GjaS Title_title__2XVR3",second:"Title_second__1GSgx Title_title__2XVR3"}},66:function(t,e,n){t.exports={appTitle:"App_appTitle__31RVG"}},67:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(9),s=n.n(a),i=n(2),o=n(7),u=n.n(o),l=n(34),d=n.n(l),b=n(1);function j(t){var e=t.children;return Object(b.jsx)("div",{className:d.a.container,children:e})}j.Propypes={children:u.a.node};var f=j,p=n(23),m=n(8),_=n.n(m),O=n(15),h=n(5),x=n(10),v=n.n(x);v.a.defaults.baseURL="https://61bc6358d8542f00178246fc.mockapi.io";var C=function(t){return v.a.post("/contacts",t).then((function(t){return t.data}))},g=function(t){return v.a.delete("/contacts/".concat(t))},y=Object(h.b)("contacts/fetchContacts",function(){var t=Object(O.a)(_.a.mark((function t(e){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("/contacts").then((function(t){return t.data}));case 3:return n=t.sent,t.abrupt("return",n);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",e.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),k=Object(h.b)("contacts/addContact",function(){var t=Object(O.a)(_.a.mark((function t(e,n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e);case 3:return r=t.sent,t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()),w=Object(h.b)("contacts/deleteContact",function(){var t=Object(O.a)(_.a.mark((function t(e,n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:return r=t.sent,t.abrupt("return",r.data.id);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()),N=n(14),S=function(t){return t.contacts.items},T=function(t){return t.filter},F=function(t){return t.modal},L=Object(N.a)([S,T],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),E=Object(h.c)({name:"modal",initialState:!1,reducers:{toggleModal:function(t,e){return!e.payload}}}),R=E.actions.toggleModal,A=E.reducer,V=n(11),q=n.n(V),M=n(35),B=n.n(M),P=function(t){var e=t.text,n=t.onClick,r=t.id,c=t.type;Object(i.c)((function(t){return t.modal})),Object(i.b)();return Object(b.jsx)("button",{className:B.a[r],type:c,onClick:n,children:e})};P.ropTypes={text:u.a.string.isRequired,onClick:u.a.func.isRequired,id:u.a.string.isRequired,type:u.a.string.isRequired};var z=P;function W(){var t=Object(r.useState)(""),e=Object(p.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(""),s=Object(p.a)(a,2),o=s[0],u=s[1],l=Object(i.c)(S),d=Object(i.c)(F),j=Object(i.b)(),f=function(t){"name"===t.currentTarget.name&&c(t.currentTarget.value),"number"===t.currentTarget.name&&u(t.currentTarget.value)},m=function(t){if(t.preventDefault(),O(n))return alert("".concat(n," is alreadi in contacts")),void _();n&&o&&(j(k({name:n,number:o})),j(R(d))),_()},_=function(){c(""),u("")},O=function(t){return l.find((function(e){return e.name===t}))};return Object(b.jsxs)("form",{className:q.a.form,onSubmit:m,children:[Object(b.jsxs)("label",{className:q.a.label,children:[Object(b.jsx)("span",{children:"Name"}),Object(b.jsx)("input",{className:q.a.input,type:"text",name:"name",value:n,onChange:f,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),Object(b.jsxs)("label",{className:q.a.label,children:[Object(b.jsx)("span",{children:"Number"}),Object(b.jsx)("input",{className:q.a.input,type:"tel",name:"number",value:o,onChange:f,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),Object(b.jsx)(z,{type:"submit",id:"create",text:"Add contact",onClick:m})]})}var D=n(16),G=n.n(D),J=function(){var t=Object(i.c)(L),e=(Object(i.c)((function(t){return t.contacts.status})),Object(i.b)());return Object(r.useEffect)((function(){e(y())}),[e]),Object(b.jsx)("div",{className:G.a.contactsWrapper,children:t.length>0&&Object(b.jsx)("ul",{className:G.a.contactList,children:t.map((function(t){var n=t.id,r=t.name,c=t.number;return Object(b.jsxs)("li",{className:G.a.item,children:[Object(b.jsxs)("p",{children:[r,": ",c]}),Object(b.jsx)(z,{text:"Delete",id:"delete",type:"button",onClick:function(){return e(w(n))}})]},n)}))})})},X=Object(h.c)({name:"filter",initialState:"",reducers:{changeFilter:function(t,e){return e.payload}}}),Z=X.actions.changeFilter,U=X.reducer,I=n(21),$=n.n(I),H=function(){var t=Object(i.c)(T),e=Object(i.b)();return Object(b.jsx)("div",{className:$.a.filter,children:Object(b.jsx)("input",{className:$.a.input,type:"text",value:t,onChange:function(t){return e(Z(t.target.value))}})})},K=n(36),Q=n.n(K),Y=function(t){var e=t.text,n=t.type;return Object(b.jsx)("h2",{className:Q.a[n],children:e})},tt=n(22),et=n.n(tt),nt=function(t){var e=t.title,n=t.children;return Object(b.jsxs)("section",{className:et.a.section,children:[e&&Object(b.jsx)("h2",{className:et.a.title,children:e}),n]})},rt=n(17),ct=n.n(rt),at=document.querySelector("#modal-root"),st=function(t){var e=t.children,n=Object(i.c)(F),c=Object(i.b)();Object(r.useEffect)((function(){return window.addEventListener("keydown",s),function(){return window.removeEventListener("keydown",s)}}));var s=function(t){"Escape"===t.code&&c(R(n))};return Object(a.createPortal)(Object(b.jsx)("div",{className:ct.a.backdrop,onClick:function(t){t.target===t.currentTarget&&c(R(n))},children:Object(b.jsxs)("div",{className:ct.a.content,children:[Object(b.jsx)("button",{className:ct.a.btnClose,type:"button",onClick:function(){return c(R(n))},children:"Close"}),e]})}),at)},it=(n(66),function(){var t=Object(i.c)(F),e=Object(i.b)();return Object(b.jsx)(f,{children:Object(b.jsxs)(nt,{children:[Object(b.jsx)(Y,{text:"Phonebook",type:"first"}),Object(b.jsx)(z,{type:"button",onClick:function(){return e(R(t))},text:"Create contact",id:"create"}),t&&Object(b.jsx)(st,{children:Object(b.jsx)(W,{})}),Object(b.jsx)(Y,{text:"Find contacts by name",type:"second"}),Object(b.jsx)(H,{}),Object(b.jsx)(Y,{text:"Contacts",type:"second"}),Object(b.jsx)(J,{})]})})}),ot=Object(h.c)({name:"contacts",initialState:{items:[],status:"idle",error:null},extraReducers:function(t){t.addCase(y.pending,(function(t,e){t.status="loading"})).addCase(y.fulfilled,(function(t,e){t.status="succeeded",t.error=null,t.items=t.items.concat(e.payload)})).addCase(y.rejected,(function(t,e){t.status="failed",t.error=e.error.message})).addCase(k.pending,(function(t){t.status="loading"})).addCase(k.fulfilled,(function(t,e){t.status="succeeded",t.error=null,t.items.push(e.payload)})).addCase(k.rejected,(function(t,e){t.status="failed",t.error=e.error.message})).addCase(w.pending,(function(t){t.status="loading"})).addCase(w.fulfilled,(function(t,e){var n=e.payload;t.status="succeeded",t.error=null,t.items=t.items.filter((function(t){return t.id!==n}))})).addCase(w.rejected,(function(t,e){t.status="failed",t.error=e.error.message}))}}).reducer,ut=Object(h.a)({reducer:{contacts:ot,filter:U,modal:A}});n(67);s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(i.a,{store:ut,children:Object(b.jsx)(it,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.dd0b0024.chunk.js.map